webpackJsonp([6],{16:function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=u(20),F=n(a),r=u(11),o=n(r),i=u(30),d=n(i),l=function(e){var t=e.touched,u=e.error,n=(0,d["default"])(e,["touched","error"]),a=arguments.length<=1||void 0===arguments[1]?"errorText":arguments[1];return t&&u?(0,o["default"])({},n,(0,F["default"])({},a,u)):n};t["default"]=l},23:function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=u(1),F=u(16),r=n(F),o=u(8);t["default"]=function(e){return(0,a.createElement)(o.TextField,(0,r["default"])(e))}},30:function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){var u={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(u[n]=e[n]);return u}},45:function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=u(11),F=n(a),r=u(1),o=u(95),i=n(o),d=u(16),l=n(d);t["default"]=function(e){return(0,r.createElement)(i["default"],(0,F["default"])({},(0,l["default"])(e),{onChange:function(t,u,n){return e.onChange(n)}}))}},50:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=t.isNullOrEmpty=function(e){return""===e&&null===e&&void 0===e},n=t.matchRegexp=function(e,t){return u(e)||t.test(e)};t.isUrl=function(e){return n(e,/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i)},t.isEmail=function(e){return n(e,/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i)},t.isMobile=function(e){return n(e,/^(13\d|15[^4,\D]|17[13678]|18\d)\d{8}|170[^346,\D]\d{7}$/)},t.isWords=function(e){return n(e,/^[A-Z\s]+$/i)},t.isNumeric=function(e){return"number"==typeof e||n(e,/^[-+]?(?:\d*[.])?\d+$/)},t.isImage=function(e){return n(e,/(\jpg|\jpeg|\bmp|\gif|\png)$/)}},69:function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadYunbook=t.uploadCover=void 0;var a=u(12),F=u(35),r=u(38),o=n(r),i=u(17),d=function(){return{type:a.UPLOAD_COVER_REQUEST}},l=function(){return{type:a.UPLOAD_COVER_SUCCESS}},f=function(e){return{type:a.UPLOAD_COVER_FAILURE,errorMessage:e}},s=(t.uploadCover=function(e){return function(t){t(d());var u=new FormData;return u.append("upload_file",e),(0,o["default"])(F.UPLOAD_COVER_API,{method:"POST",body:u}).then(function(e){if(e.ok)return e.json();throw new Error(e.statusText)}).then(function(e){if(e.code===F.OK)return t(l()),e.cover;throw new Error(e.msg)})["catch"](function(e){t(f(e.message)),i.toastr.error(e.message)})}},function(){return{type:a.UPLOAD_YUNBOOK_REQUEST}}),c=function(){return{type:a.UPLOAD_YUNBOOK_SUCCESS}},D=function(e){return{type:a.UPLOAD_YUNBOOK_FAILURE,errorMessage:e}};t.uploadYunbook=function(e,t){if(t){var u="";return 1===e?u=F.UPLOAD_PPT_API:2===e&&(u=F.UPLOAD_YUNBOOK_API),function(e){e(s());var n=new FormData;return n.append("upload_file",t),(0,o["default"])(u,{method:"POST",body:n}).then(function(e){if(e.ok)return e.json();throw new Error(e.statusText)}).then(function(t){if(t.code===F.OK)return e(c()),t;throw new Error(t.msg)})["catch"](function(t){e(D(t.message)),i.toastr.error(t.message)})}}}},1394:function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=u(26),F=n(a),r=u(27),o=n(r),i=u(28),d=n(i),l=u(31),f=n(l),s=u(29),c=n(s),D=u(5),p=n(D),m=u(1),_=n(m),h=u(8),x=u(14),v=u(45),y=n(v),C={selectDiv:{display:"flex",justifyContent:"space-between"}},E=function(e){var t=[];return e.forEach(function(e){t.push((0,p["default"])(h.MenuItem,{value:e.aid,primaryText:e.title},e.aid))}),t},g=function(e){function t(){var e,u,n,a;(0,o["default"])(this,t);for(var r=arguments.length,i=Array(r),d=0;d<r;d++)i[d]=arguments[d];return u=n=(0,f["default"])(this,(e=(0,F["default"])(t)).call.apply(e,[this].concat(i))),n.state={select1:null,select2:null,select3:null},a=u,(0,f["default"])(n,a)}return(0,c["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e=this,t=this.props,u=t.areas4,n=t.areas5,a=t.areas6,F=t.areas7,r=t.changeHandler,o=E(u),i=E(n),d=E(a),l=E(F),f=function(t,u){r(u,t).then(function(){5===t?(e.setState({select1:u}),i=E(n)):6===t?(e.setState({select2:u}),d=E(a)):7===t&&(e.setState({select3:u}),l=E(F))})};return(0,p["default"])("div",{style:C.selectDiv},void 0,(0,p["default"])(h.SelectField,{floatingLabelText:"分类",value:this.state.select1,onChange:function(e,t,u){return f(5,u)}},void 0,o),(0,p["default"])(h.SelectField,{floatingLabelText:"分类",value:this.state.select2,onChange:function(e,t,u){return f(6,u)}},void 0,i),(0,p["default"])(h.SelectField,{floatingLabelText:"分类",value:this.state.select3,onChange:function(e,t,u){return f(7,u)}},void 0,d),(0,p["default"])(x.Field,{name:"aid",floatingLabelText:"分类",component:y["default"]},void 0,l))}}]),t}(_["default"].Component);t["default"]=g},1414:function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.submitting,u=e.invalid,n=e.changeHandler,a=e.areas5,F=e.areas6,o=e.areas4,l=e.areas7,s=e.reset,D=e.handleSubmit,x=e.onChange;return(0,r["default"])("form",{style:m.form,onSubmit:D},void 0,(0,r["default"])(i.Field,{name:"title",type:"text",hintText:"云板书名称",floatingLabelText:"云板书名称",component:f["default"],style:m.item}),(0,r["default"])(i.Field,{name:"status",type:"text",hintText:"云板书状态",floatingLabelText:"云板书状态",component:c["default"],style:m.item},void 0,_,h),(0,r["default"])(d.TextField,{id:"_file",type:"file",style:m.item,onChange:function(e){return x(e.target.files[0])}}),(0,r["default"])("div",{style:m.item},void 0,(0,r["default"])(p["default"],{changeHandler:n,areas4:o,areas5:a,areas6:F,areas7:l})),(0,r["default"])(i.Field,{name:"descript",hintText:"云板书简介",floatingLabelText:"云板书简介",component:f["default"],multiLine:!0,rows:2,style:m.item}),(0,r["default"])("div",{style:m.submit},void 0,(0,r["default"])(d.RaisedButton,{type:"submit",label:"提交新建",primary:!0,disabled:t||u}),(0,r["default"])(d.RaisedButton,{label:"取消",onClick:s,style:m.margin})))}Object.defineProperty(t,"__esModule",{value:!0});var F=u(5),r=n(F),o=u(1),i=(n(o),u(14)),d=u(8),l=u(23),f=n(l),s=u(45),c=n(s),D=u(1394),p=n(D),m={form:{display:"flex",flexFlow:"column wrap",alignItems:"center"},item:{width:"100%"},margin:{marginLeft:20},selectDiv:{display:"flex",justifyContent:"space-between",width:"100%"},submit:{display:"flex",width:"100%",flexFlow:"row wrap",marginTop:30}},_=(0,r["default"])(d.MenuItem,{primaryText:"仅自己可见",value:1}),h=(0,r["default"])(d.MenuItem,{primaryText:"所有人可见",value:2});t["default"]=a},1431:function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=u(51),F=n(a),r=u(14),o=u(1414),i=n(o),d=u(85),l=u(18),f=u(34),s=u(83),c=u(69),D=u(17),p=u(50),m=function(e){var t={};return e.title||(t.title="请填写云板书名称"),e.aid||(t.aid="请选择分类"),t},_=function(e,t){return new F["default"](function(u){var n=e.file.name,a=0;if("ppt"===n||"pptx"===n)a=1;else{if(!(0,p.isImage)(n))return u(D.toastr.error("请选择ppt或者图片上传"));a=2}t((0,c.uploadYunbook)(a,e.file)).then(function(n){n?(delete e.file,e.width=n.width,e.height=n.height,e.path=n.path,e.zoom=n.zoom,e.cover=n.cover,t((0,d.addYunbook)(e)).then(function(e){e&&t((0,f.push)("/yunbook/show/"+e)),u()})):u()})})},h=function(e){return{areas4:e.area[4],areas5:e.area[5],areas6:e.area[6],areas7:e.area[7]}},x=function(e){return{changeHandler:function(t,u){return e((0,s.listAreaIfNeeded)({pid:t,zoom:u}))},onChange:function(t){e((0,r.change)("addYunbook","file",t))}}};t["default"]=(0,l.connect)(h,x)((0,r.reduxForm)({form:"addYunbook",validate:m,onSubmit:_,initialValues:{status:2},destroyOnUnmount:!1})(i["default"]))}});