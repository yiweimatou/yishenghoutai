webpackJsonp([5],{16:function(e,u,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(u,"__esModule",{value:!0});var r=t(20),F=n(r),a=t(11),i=n(a),o=t(30),d=n(o),l=function(e){var u=e.touched,t=e.error,n=(0,d["default"])(e,["touched","error"]),r=arguments.length<=1||void 0===arguments[1]?"errorText":arguments[1];return u&&t?(0,i["default"])({},n,(0,F["default"])({},r,t)):n};u["default"]=l},23:function(e,u,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(u,"__esModule",{value:!0});var r=t(1),F=t(16),a=n(F),i=t(8);u["default"]=function(e){return(0,r.createElement)(i.TextField,(0,a["default"])(e))}},30:function(e,u){"use strict";u.__esModule=!0,u["default"]=function(e,u){var t={};for(var n in e)u.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}},45:function(e,u,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(u,"__esModule",{value:!0});var r=t(11),F=n(r),a=t(1),i=t(95),o=n(i),d=t(16),l=n(d);u["default"]=function(e){return(0,a.createElement)(o["default"],(0,F["default"])({},(0,l["default"])(e),{onChange:function(u,t,n){return e.onChange(n)}}))}},50:function(e,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var t=u.isNullOrEmpty=function(e){return""===e&&null===e&&void 0===e},n=u.matchRegexp=function(e,u){return t(e)||u.test(e)};u.isUrl=function(e){return n(e,/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i)},u.isEmail=function(e){return n(e,/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i)},u.isMobile=function(e){return n(e,/^(13\d|15[^4,\D]|17[13678]|18\d)\d{8}|170[^346,\D]\d{7}$/)},u.isWords=function(e){return n(e,/^[A-Z\s]+$/i)},u.isNumeric=function(e){return"number"==typeof e||n(e,/^[-+]?(?:\d*[.])?\d+$/)},u.isImage=function(e){return n(e,/(\jpg|\jpeg|\bmp|\gif|\png)$/)}},69:function(e,u,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(u,"__esModule",{value:!0}),u.uploadYunbook=u.uploadCover=void 0;var r=t(12),F=t(35),a=t(38),i=n(a),o=t(17),d=function(){return{type:r.UPLOAD_COVER_REQUEST}},l=function(){return{type:r.UPLOAD_COVER_SUCCESS}},f=function(e){return{type:r.UPLOAD_COVER_FAILURE,errorMessage:e}},c=(u.uploadCover=function(e){return function(u){u(d());var t=new FormData;return t.append("upload_file",e),(0,i["default"])(F.UPLOAD_COVER_API,{method:"POST",body:t}).then(function(e){if(e.ok)return e.json();throw new Error(e.statusText)}).then(function(e){if(e.code===F.OK)return u(l()),e.cover;throw new Error(e.msg)})["catch"](function(e){u(f(e.message)),o.toastr.error(e.message)})}},function(){return{type:r.UPLOAD_YUNBOOK_REQUEST}}),s=function(){return{type:r.UPLOAD_YUNBOOK_SUCCESS}},D=function(e){return{type:r.UPLOAD_YUNBOOK_FAILURE,errorMessage:e}};u.uploadYunbook=function(e,u){if(u){var t="";return 1===e?t=F.UPLOAD_PPT_API:2===e&&(t=F.UPLOAD_YUNBOOK_API),function(e){e(c());var n=new FormData;return n.append("upload_file",u),(0,i["default"])(t,{method:"POST",body:n}).then(function(e){if(e.ok)return e.json();throw new Error(e.statusText)}).then(function(u){if(u.code===F.OK)return e(s()),u;throw new Error(u.msg)})["catch"](function(u){e(D(u.message)),o.toastr.error(u.message)})}}}},70:function(e,u,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(u,"__esModule",{value:!0});var r=t(5),F=n(r),a=t(26),i=n(a),o=t(27),d=n(o),l=t(28),f=n(l),c=t(31),s=n(c),D=t(29),m=n(D),p=t(1),g=n(p),v={div:{textAlign:"center",margin:"5px 15px",height:200,width:500,borderLeft:"1px solid gray",borderRight:"1px solid gray",borderTop:"5px solid gray",borderBottom:"5px solid gray"},img:{height:200,width:500},text:{width:"100%",marginTop:20},input:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}},x=function(e){function u(){var e,t,n,r;(0,d["default"])(this,u);for(var F=arguments.length,a=Array(F),o=0;o<F;o++)a[o]=arguments[o];return t=n=(0,s["default"])(this,(e=(0,i["default"])(u)).call.apply(e,[this].concat(a))),n.state={imagePreviewUrl:n.props.url,file:null},r=t,(0,s["default"])(n,r)}return(0,m["default"])(u,e),(0,f["default"])(u,[{key:"handlerImgChange",value:function(e){var u=this;e.preventDefault();var t=new FileReader,n=e.target.files[0];t.onloadend=function(){u.setState({file:n,imagePreviewUrl:t.result})},t.readAsDataURL(n),this.props.onChange(n)}},{key:"handleClick",value:function(){document.querySelector("#_file").click()}},{key:"render",value:function(){var e=this,u=null;return u=this.state.imagePreviewUrl?(0,F["default"])("img",{src:this.state.imagePreviewUrl,width:"100%",height:"100%"}):(0,F["default"])("div",{style:v.text},void 0,"点击选择上传图片"),(0,F["default"])("div",{onClick:this.handleClick,style:v.div},void 0,(0,F["default"])("input",{id:"_file",type:"file",readOnly:!0,onChange:function(u){return e.handlerImgChange(u)},style:v.input}),(0,F["default"])("div",{style:v.img},void 0,u))}}]),u}(g["default"].Component);u["default"]=x},1406:function(e,u,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var u=e.handleSubmit,t=e.submitting,n=e.invalid,r=e.onChange,F=e.organize;return F?(0,a["default"])("form",{onSubmit:u,style:p.form},void 0,(0,a["default"])(m["default"],{onChange:r,url:F.logo}),(0,a["default"])(o.Field,{name:"oname",hintText:"机构名称",floatingLabelText:"机构名称",component:f["default"],style:p.item}),(0,a["default"])(o.Field,{name:"state",component:s["default"],style:p.item,hintText:"机构状态",floatingLabelText:"机构状态"},void 0,g,v,x),(0,a["default"])(o.Field,{name:"category",component:s["default"],style:p.item,hintText:"机构类型",floatingLabelText:"机构类型"},void 0,h,_,y,C,E),(0,a["default"])(o.Field,{name:"descript",hintText:"机构简介",floatingLabelText:"机构简介",component:f["default"],multiLine:!0,rows:2,style:p.item}),(0,a["default"])("div",{style:p.submit},void 0,(0,a["default"])(d.RaisedButton,{type:"submit",label:"提交",primary:!0,disabled:t||n}))):null}Object.defineProperty(u,"__esModule",{value:!0});var F=t(5),a=n(F),i=t(1),o=(n(i),t(14)),d=t(8),l=t(23),f=n(l),c=t(45),s=n(c),D=t(70),m=n(D),p={form:{display:"flex",flexFlow:"column wrap",alignItems:"center"},item:{width:"80%"},margin:{marginLeft:20},div:{display:"flex",width:"80%"},submit:{display:"flex",width:"80%",flexFlow:"row wrap",marginTop:30}},g=(0,a["default"])(d.MenuItem,{value:1,primaryText:"正常"}),v=(0,a["default"])(d.MenuItem,{value:2,primaryText:"冻结"}),x=(0,a["default"])(d.MenuItem,{value:3,primaryText:"永久冻结"}),h=(0,a["default"])(d.MenuItem,{value:1,primaryText:"官方"}),_=(0,a["default"])(d.MenuItem,{value:2,primaryText:"医院"}),y=(0,a["default"])(d.MenuItem,{value:3,primaryText:"药企"}),C=(0,a["default"])(d.MenuItem,{value:4,primaryText:"学校"}),E=(0,a["default"])(d.MenuItem,{value:5,primaryText:"其他"});u["default"]=r},1426:function(e,u,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(u,"__esModule",{value:!0});var r=t(51),F=n(r),a=t(14),i=t(1406),o=n(i),d=t(50),l=t(84),f=t(18),c=t(69),s=function(e){var u={};return e.oname||(u.oname="请填写机构名称"),e.state||(u.state="请选择机构状态"),e.logo?(0,d.isUrl)(e.logo)||(u.logo="请填写正确的url地址"):u.logo="请填写logo",u},D=function(e,u){var t={oid:e.oid,category:e.category,oname:e.oname,uid:e.uid,state:e.state,descript:e.descript,logo:e.logo};return new F["default"](function(n){e.file?u((0,c.uploadCover)(e.file)).then(function(e){e&&(t.logo=e,u((0,l.editOrganize)(t)).then(function(){n()}))}):u((0,l.editOrganize)(e)).then(function(){n()})})},m=function(e){return{organize:e.organize.detail}},p=function(e){return{onChange:function(u){e((0,a.change)("editOrganize","file",u))}}};u["default"]=(0,f.connect)(m,p)((0,a.reduxForm)({form:"editOrganize",validate:s,onSubmit:D})(o["default"]))}});